Oct-03 13:50:55.617 [main] DEBUG nextflow.cli.Launcher - $> /users/cn/efloden/bin/nextflow run tuxedo.nf -profile crg -with-docker
Oct-03 13:50:55.825 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 0.22.1
Oct-03 13:50:55.845 [main] INFO  nextflow.cli.CmdRun - Launching `tuxedo.nf` [jolly_curie] - revision: 743498e76e
Oct-03 13:50:55.858 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: nextflow.config
Oct-03 13:50:55.861 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /nfs/users2/cn/efloden/projects/tuxedo-nf/nextflow.config
Oct-03 13:50:56.173 [main] DEBUG nextflow.config.ConfigBuilder - Setting config profile: 'crg'
Oct-03 13:50:56.308 [main] DEBUG nextflow.config.ConfigBuilder - Enabling execution in Docker container as requested by cli option `-with-docker -`
Oct-03 13:50:56.340 [main] DEBUG nextflow.Session - Session uuid: d4f1faa9-6764-4741-beee-f058e72b1c6f
Oct-03 13:50:56.340 [main] DEBUG nextflow.Session - Run name: jolly_curie
Oct-03 13:50:56.342 [main] DEBUG nextflow.Session - Executor pool size: 16
Oct-03 13:50:56.358 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 0.22.1 build 4075
  Modified: 26-09-2016 10:10 UTC (12:10 CEST)
  System: Linux 2.6.32-504.23.4.el6.x86_64
  Runtime: Groovy 2.4.7 on Java HotSpot(TM) 64-Bit Server VM 1.7.0_60-b19
  Encoding: UTF-8 (UTF-8)
  Process: 61506@ant-login7.linux.crg.es [172.17.16.31]
  CPUs: 16 - Mem: 126 GB (52 GB) - Swap: 32 GB (31.9 GB)
Oct-03 13:50:56.394 [main] DEBUG nextflow.Session - Work-dir: /nfs/users2/cn/efloden/projects/tuxedo-nf/work [nfs]
Oct-03 13:50:56.394 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /nfs/users2/cn/efloden/projects/tuxedo-nf/bin
Oct-03 13:50:56.573 [main] DEBUG nextflow.Session - Session start invoked
Oct-03 13:50:56.580 [main] DEBUG nextflow.processor.TaskDispatcher - Dispatcher > start
Oct-03 13:50:56.581 [main] DEBUG nextflow.script.ScriptRunner - > Script parsing
Oct-03 13:50:56.822 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Oct-03 13:50:56.825 [main] INFO  nextflow.Nextflow - T U X E D O - N F  ~  version 0.1
Oct-03 13:50:56.825 [main] INFO  nextflow.Nextflow - =====================================
Oct-03 13:50:56.825 [main] INFO  nextflow.Nextflow - reads                  : example-data/reads/ERR*_chrX_{1,2}.fastq.gz
Oct-03 13:50:56.825 [main] INFO  nextflow.Nextflow - genome                 : /nfs/users2/cn/efloden/projects/tuxedo-nf/example-data/genome/chrX.fa
Oct-03 13:50:56.825 [main] INFO  nextflow.Nextflow - index                  : /nfs/users2/cn/efloden/projects/tuxedo-nf/example-data/index/chrX.fa.index
Oct-03 13:50:56.826 [main] INFO  nextflow.Nextflow - annotation             : /nfs/users2/cn/efloden/projects/tuxedo-nf/example-data/annotation/hg38_chrX_ucsc.annotated.gtf
Oct-03 13:50:56.826 [main] INFO  nextflow.Nextflow - run index              : true
Oct-03 13:50:56.826 [main] INFO  nextflow.Nextflow - output                 : baseDir/results/
Oct-03 13:50:56.826 [main] INFO  nextflow.Nextflow - 

Oct-03 13:50:56.852 [main] DEBUG nextflow.Channel - files for syntax: glob; folder: example-data/reads/; pattern: ERR*_chrX_{1,2}.fastq.gz; options: [:]
Oct-03 13:50:57.064 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: crg
Oct-03 13:50:57.064 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'crg'
Oct-03 13:50:57.082 [main] DEBUG nextflow.executor.Executor - Initializing executor: crg
Oct-03 13:50:57.085 [main] INFO  nextflow.executor.Executor - [warm up] executor > crg
Oct-03 13:50:57.092 [main] DEBUG n.processor.TaskPollingMonitor - Creating task monitor for executor 'crg' > capacity: 100; pollInterval: 1s; dumpInterval: 5m 
Oct-03 13:50:57.096 [main] DEBUG nextflow.processor.TaskDispatcher - Starting monitor: TaskPollingMonitor
Oct-03 13:50:57.097 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: crg)
Oct-03 13:50:57.099 [main] DEBUG nextflow.executor.Executor - Invoke register for executor: crg
Oct-03 13:50:57.100 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'crg' > queue-stat-interval: 1m
Oct-03 13:50:57.154 [main] DEBUG nextflow.Session - >>> barrier register (process: genome_index)
Oct-03 13:50:57.169 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > genome_index -- maxForks: 16
Oct-03 13:50:57.196 [Actor Thread 1] DEBUG nextflow.processor.TaskProcessor - <genome_index> Poison pill arrived
Oct-03 13:50:57.198 [Actor Thread 3] DEBUG nextflow.processor.StateObj - <genome_index> State before poison: StateObj[submitted: 1; completed: 0; poisoned: false ]
Oct-03 13:50:57.221 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: crg
Oct-03 13:50:57.222 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'crg'
Oct-03 13:50:57.222 [main] DEBUG nextflow.executor.Executor - Initializing executor: crg
Oct-03 13:50:57.223 [main] DEBUG n.executor.AbstractGridExecutor - Creating executor 'crg' > queue-stat-interval: 1m
Oct-03 13:50:57.224 [main] DEBUG nextflow.Session - >>> barrier register (process: mapping)
Oct-03 13:50:57.237 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > mapping -- maxForks: 16
Oct-03 13:50:57.240 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Oct-03 13:50:57.240 [main] DEBUG nextflow.Session - Session await
Oct-03 13:50:57.312 [Actor Thread 2] DEBUG nextflow.executor.GridTaskHandler - Launching process > genome_index (1) -- work folder: /nfs/users2/cn/efloden/projects/tuxedo-nf/work/4b/5bf9638e5e78638cfed3f4023886c8
Oct-03 13:50:57.478 [Actor Thread 2] INFO  nextflow.Session - [4b/5bf963] Submitted process > genome_index (1)
Oct-03 13:50:57.480 [Actor Thread 1] DEBUG nextflow.processor.TaskProcessor - <genome_index> After stop
Oct-03 13:52:59.203 [Thread-2] ERROR nextflow.processor.TaskProcessor - Error executing process > 'genome_index (1)'

Caused by:
  Process `genome_index (1)` terminated with an error exit status (127)

Command executed:

  hisat2-build chrX.fa genome_index
  mkdir index_dir
  mv genome_index* index_dir/.

Command exit status:
  127

Command output:
  (empty)

Command error:
  85b2d5d57049: Waiting
  c463d9602494: Waiting
  0deebdf961cc: Waiting
  6e2de079b6b8: Waiting
  2908dc708123: Waiting
  511b85cdfbd9: Waiting
  6a5a5368e0c2: Verifying Checksum
  6a5a5368e0c2: Download complete
  047b8add3697: Verifying Checksum
  047b8add3697: Download complete
  511b85cdfbd9: Verifying Checksum
  6a5a5368e0c2: Pull complete
  511b85cdfbd9: Download complete
  047b8add3697: Pull complete
  c463d9602494: Verifying Checksum
  c463d9602494: Download complete
  85b2d5d57049: Verifying Checksum
  85b2d5d57049: Download complete
  0deebdf961cc: Download complete
  d91bedf88bb2: Verifying Checksum
  d91bedf88bb2: Download complete
  d91bedf88bb2: Pull complete
  511b85cdfbd9: Pull complete
  c463d9602494: Pull complete
  85b2d5d57049: Pull complete
  0deebdf961cc: Pull complete
  6e2de079b6b8: Verifying Checksum
  6e2de079b6b8: Download complete
  2908dc708123: Retrying in 5 seconds
  2908dc708123: Retrying in 4 seconds
  2908dc708123: Retrying in 3 seconds
  2908dc708123: Retrying in 2 seconds
  2908dc708123: Retrying in 1 second
  2908dc708123: Retrying in 10 seconds
  2908dc708123: Retrying in 9 seconds
  2908dc708123: Retrying in 8 seconds
  2908dc708123: Retrying in 7 seconds
  2908dc708123: Retrying in 6 seconds
  2908dc708123: Retrying in 5 seconds
  2908dc708123: Retrying in 4 seconds
  2908dc708123: Retrying in 3 seconds
  2908dc708123: Retrying in 2 seconds
  2908dc708123: Retrying in 1 second
  2908dc708123: Verifying Checksum
  2908dc708123: Download complete
  2908dc708123: Pull complete
  6e2de079b6b8: Pull complete
  Digest: sha256:8c0c53d613a6b4b3f85b0e5fb7c6982a4221cf30e785d3b3e5422edfb6994211
  Status: Downloaded newer image for cbcrg/tuxedo-nf@sha256:8c0c53d613a6b4b3f85b0e5fb7c6982a4221cf30e785d3b3e5422edfb6994211
  .command.sh: line 2: hisat2-build: command not found

Work dir:
  /nfs/users2/cn/efloden/projects/tuxedo-nf/work/4b/5bf9638e5e78638cfed3f4023886c8

Tip: you can replicate the issue by changing to the process work dir and entering the command: 'bash .command.run'
Oct-03 13:52:59.207 [Actor Thread 3] DEBUG nextflow.processor.TaskProcessor - <genome_index> Sending poison pills and terminating process
Oct-03 13:52:59.207 [Thread-2] DEBUG nextflow.Session - Session aborted -- Cause: Process `genome_index (1)` terminated with an error exit status (127)
Oct-03 13:52:59.211 [Actor Thread 3] DEBUG nextflow.Session - <<< barrier arrive (process: genome_index)
Oct-03 13:52:59.211 [Actor Thread 6] DEBUG nextflow.processor.TaskProcessor - <mapping> Poison pill arrived
Oct-03 13:52:59.212 [Actor Thread 6] DEBUG nextflow.processor.TaskProcessor - <mapping> After stop
Oct-03 13:52:59.212 [Actor Thread 7] DEBUG nextflow.processor.StateObj - <mapping> State before poison: StateObj[submitted: 0; completed: 0; poisoned: false ]
Oct-03 13:52:59.212 [Actor Thread 7] DEBUG nextflow.processor.TaskProcessor - <mapping> Sending poison pills and terminating process
Oct-03 13:52:59.213 [Actor Thread 7] DEBUG nextflow.Session - <<< barrier arrive (process: mapping)
Oct-03 13:52:59.213 [main] DEBUG nextflow.Session - Session await > processes completed
Oct-03 13:52:59.215 [main] DEBUG nextflow.Session - Session await > done
Oct-03 13:52:59.215 [Thread-2] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: crg)
Oct-03 13:52:59.347 [main] DEBUG nextflow.Session - Session destroyed
